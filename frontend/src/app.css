@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	html, body { 
		@apply text-text-primary antialiased font-sans bg-transparent overflow-x-hidden; 
	}
	::-webkit-scrollbar { @apply w-2 h-2; }
	::-webkit-scrollbar-track { @apply bg-tertiary/50; }
	::-webkit-scrollbar-thumb { @apply bg-accent rounded-full; }
	::-webkit-scrollbar-thumb:hover { @apply bg-accent-hover; }

	.prose { font-family: 'Inter', sans-serif !important; font-weight: 600 !important; line-height: 1.6 !important; }
	.prose p { @apply my-2; }
	.prose pre {
		@apply relative border border-tertiary rounded-xl p-0 my-4 overflow-hidden font-mono;
		background-color: #0d1117 !important;
		font-weight: 500 !important;
	}
	.prose pre code.hljs {
		@apply block p-4 pb-16;
		white-space: pre-wrap;
		overflow-x: auto;
		word-wrap: break-word;
	}
	.prose :where(code):not(:where(pre *)) {
		@apply font-mono font-medium text-text-secondary px-1.5 py-0.5 bg-tertiary/70 rounded-md;
	}
}

@layer components {
	.bg-circle {
		@apply absolute w-[50vmax] h-[50vmax] rounded-full;
		background: radial-gradient(circle, #8A2BE2 0%, #4B0082 35%, transparent 70%);
		filter: blur(100px);
		opacity: 0.2;
		animation: pulse-and-move 35s cubic-bezier(0.45, 0, 0.55, 1) infinite;
	}

	.bg-circle.secondary {
		background: radial-gradient(circle, #9370DB 0%, #C71585 35%, transparent 70%);
		animation-name: pulse-and-move-2;
		animation-duration: 40s;
	}

	.input-container {
		@apply relative flex items-center w-full gap-2 p-2 rounded-2xl border border-tertiary bg-secondary;
		@apply shadow-2xl shadow-black/40;
		transition: all 0.3s ease-in-out;
	}
	.input-container:focus-within {
		@apply border-accent/70;
		box-shadow: 0 0 0 4px rgba(69, 2, 146, 0.25), 0 10px 30px -5px rgba(0, 0, 0, 0.5);
	}
	.input-textarea {
		@apply flex-1 w-full bg-transparent text-text-primary px-2 py-1.5 resize-none outline-none;
		line-height: 1.25rem;
		max-height: 200px; 
		box-sizing: border-box; 
		transition: height 0.2s ease-out;
	}
	.send-button { 
		@apply w-9 h-9 flex-shrink-0 rounded-xl flex items-center justify-center transition-colors; 
	}

	.auth-input-wrapper {
		@apply relative w-full;
	}
	.auth-input-icon {
		@apply absolute top-1/2 left-3 -translate-y-1/2 text-text-secondary transition-colors duration-300;
	}
	.auth-input {
		@apply w-full bg-primary/80 border-2 border-tertiary rounded-lg text-text-primary outline-none pl-10 pr-4 py-2.5 transition-all duration-300;
	}
	.auth-input:focus {
		@apply border-accent/80;
		box-shadow: 0 0 0 3px rgba(69, 2, 146, 0.25);
	}
	.auth-input:focus + .auth-input-icon {
		@apply text-accent;
	}
	
	.btn-gradient {
		@apply bg-gradient-to-r from-accent to-accent-hover text-white font-semibold rounded-lg shadow-lg hover:shadow-accent/40 transition-all duration-300;
	}

	.loading-bubble-animation { @apply relative overflow-hidden; }
	.loading-bubble-animation::after {
		@apply absolute top-0 left-0 h-full w-2/5 content-[''];
		background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
		animation: loading-wipe 1.8s ease-in-out infinite;
	}

	.code-footer {
		@apply absolute bottom-0 left-0 right-0 flex items-center justify-between px-4 py-2 text-xs font-sans;
		background: linear-gradient(to top, #0d1117 60%, transparent);
	}
	.code-footer .footer-left {
		@apply flex items-center gap-3 text-text-secondary/80;
	}
	.code-footer .footer-left button {
		@apply flex items-center justify-center p-1.5 rounded-md transition-colors hover:bg-tertiary/80;
	}
	.code-footer .footer-right {
		@apply font-semibold text-text-secondary/70;
	}
}

@keyframes pulse-and-move {
	0% { 
        transform: scale(1) translate(0, 0) rotate(0deg); 
        opacity: 0.2; 
    }
	25% { 
        transform: scale(1.15) translate(8vw, -10vh) rotate(90deg); 
        opacity: 0.25; 
    }
	50% { 
        transform: scale(0.9) translate(-10vw, 8vh) rotate(180deg); 
        opacity: 0.15; 
    }
	75% { 
        transform: scale(1.1) translate(-5vw, -8vh) rotate(270deg); 
        opacity: 0.22; 
    }
	100% { 
        transform: scale(1) translate(0, 0) rotate(360deg); 
        opacity: 0.2; 
    }
}

@keyframes pulse-and-move-2 {
	0% { transform: scale(1) translate(0, 0) rotate(0deg); opacity: 0.15; }
	25% { transform: scale(0.95) translate(-6vw, 7vh) rotate(-90deg); opacity: 0.2; }
	50% { transform: scale(1.15) translate(4vw, -6vh) rotate(-180deg); opacity: 0.18; }
	75% { transform: scale(1) translate(5vw, 4vh) rotate(-270deg); opacity: 0.22; }
	100% { transform: scale(1) translate(0, 0) rotate(-360deg); opacity: 0.15; }
}

@keyframes loading-wipe {
  0% { transform: translateX(-150%); }
  100% { transform: translateX(350%); }
}